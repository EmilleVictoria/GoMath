<!DOCTYPE html>
<html lang="en">


<head>
   <meta charset="UTF-8">
   <title>Cadastrar quest√µes</title>
  
   <script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
   </script>


   <link rel="stylesheet" href=
"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
       integrity=
"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
       crossorigin="anonymous">
</head>


<body class="container" style="margin-top: 50px;
   width: 50%; height:auto;">
  
   <h2 class="text-primary" style=
       "margin-left: 15px; margin-bottom: 10px">
       Preencha os campos corretamente
   </h2>
  
   <form class="container" id="formQuestao">
       <div class="card">
           <div class="card-body">
               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira as informacoes
                   </label>
                  
                   <input type="text" class="form-control"
                   id="enunciado" placeholder="enunciado">
               </div>


               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira o texto de uma alternativa 1
                   </label>
                  
                   <input type="text" class="form-control"
                   id="alternativa1" placeholder="enunciado">
               </div>


               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira o texto de uma alternativa 2
                   </label>
                  
                   <input type="text" class="form-control"
                   id="alternativa2" placeholder="enunciado">
               </div>


               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira o texto de uma alternativa 3
                   </label>
                  
                   <input type="text" class="form-control"
                   id="alternativa3" placeholder="enunciado">
               </div>


               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira o texto de uma alternativa 4
                   </label>
                  
                   <input type="text" class="form-control"
                   id="alternativa4" placeholder="enunciado">
               </div>




               <div class="form-group">
                   <label for="exampleFormControlInput1">
                       Insira o texto da alterativa correta
                   </label>
                  
                   <input type="text" class="form-control"
                   id="correta" placeholder="name@example.com">
               </div>
           </div>
           <button type="submit" class="btn btn-primary"
               style="margin-left: 15px; margin-top: 10px" ">
               Submit
           </button>
       </div>
   </form>


   <script src="https://www.gstatic.com/firebasejs/9.9.2/firebase-app-compat.js"></script>
  
   <script src="https://www.gstatic.com/firebasejs/9.9.2/firebase-auth-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
  
   <script src="/config.js"></script>


   <script>
       // se noa houver um no chamado "Quetoes", ele cria 
       var messagesRef = firebase.database()
           .ref('Quetoes');
      
       document.getElementById('formQuestao')
           .addEventListener('submit', submitForm);


       function submitForm(e) {
           e.preventDefault();


           // Get values
           var enunciado = getInputVal('enunciado');
           var alt1 = getInputVal('alternativa1');
           var alt2 = getInputVal('alternativa2');
           var alt3 = getInputVal('alternativa3');
           var alt4 = getInputVal('alternativa4');
           var correta = getInputVal('correta');
          
          
           var mensagem = {enunciado, alt1 ,alt2 , alt3, alt4 , correta}
           saveMessage(mensagem);
           document.getElementById('formQuestao').reset();
       }


       // Function to get form values
       function getInputVal(id) {
           return document.getElementById(id).value;
       }


       // Save message to firebase
       function saveMessage(mensagem) {
           var newMessageRef = messagesRef.push();
           newMessageRef.set({
               enunciado: mensagem.enunciado,
               alt1: mensagem.alt1,
               alt2: mensagem.alt2,
               alt3: mensagem.alt3,
               alt4: mensagem.alt4,
               correta: mensagem.correta,
           });
       }
   </script>
</body>


</html>
